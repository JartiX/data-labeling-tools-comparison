# Нагрузочное тестирование и лицензирование

## Подготовка к нагрузочному тестированию

### Подготовка данных

1. **Создать тестовый проект** с 100-200 изображениями
2. **Подготовить тестовые аккаунты** (user1, user2, user3, user4, user5)
3. **Настроить мониторинг** системных ресурсов
4. **Настроить тесты** на python с помошью HttpClient и locust

---

## Сценарий тестирования: 5 пользователей одновременно

### Запуск тестирования

```bash
cd src/tests

# Для CVAT
locust -f cvat_test.py --host=http://localhost:8080 --users=5 --spawn-rate=1

# Для Label Studio
locust -f label_studio_test.py --host=http://localhost:8081 --users=5 --spawn-rate=1
```

---

## Оценка поведения системы

### Метрики для мониторинга

**Системные метрики:**

- CPU usage (%)
- Memory usage (MB/GB)

**Метрики приложения:**

- Response time (ms)

## Результаты

| Инструмент   | CPU usage | Mem usage | AVG responce time |
| ------------ | --------- | --------- | ----------------- |
| Label Studio | ~70%      | 6.2/6.6GB | 221ms             |
| CVAT         | ~40%      | 6.3/6.6GB | 187ms             |

> Label Studio:
![](../../imgs/label%20studio%20usage.png)

>CVAT:
![](../../imgs/cvat%20usage.png)

### Инструменты мониторинга

```bash
# Мониторинг системных ресурсов
htop

# Мониторинг Docker контейнеров
docker stats
```

---

## Анализ лицензирования и открытости кода

### CVAT

#### Лицензия и открытость

- **Лицензия:** MIT License
- **Open Source:** Полностью открытый код
- **GitHub:** https://github.com/opencv/cvat
- **Коммерческое использование:** Разрешено без ограничений

#### Платные функции

CVAT не имеет платных функций в базовой версии.
Все функции доступны бесплатно:

- Аннотирование изображений и видео
- Множественные форматы экспорта
- REST API
- Auto-annotation с ML моделями
- Многопользовательская работа

#### Поддержка и разработка

- **Основной разработчик:** Intel (OpenCV team)
- **Сообщество:** Активное
- **Документация:** Подробная
- **Обновления:** Регулярные

### Label Studio

#### Лицензия и открытость

- **Лицензия:** Apache License 2.0
- **Open Source:** Частично открытый код
- **GitHub:** https://github.com/heartexlabs/label-studio
- **Коммерческое использование:** Разрешено с ограничениями

#### Платные функции (Label Studio Enterprise)

Бесплатные функции (Community Edition):
- Аннотирование данных
- Базовые форматы экспорта
- REST API
- Простая многопользовательская работа

Платные функции (Enterprise):
- Продвинутое управление пользователями
- Интеграция SSO
- Продвинутая аналитика
- Аудит логов
- Приоритетная поддержка
- Поддержка развертывания на собственных серверах

#### Модель лицензирования

- **Community Edition:** Бесплатная
- **Enterprise Edition:** $99 в месяц

### Сравнение открытости

| Критерий                   | CVAT                      | Label Studio                      |
| -------------------------- | ------------------------- | --------------------------------- |
| Базовая лицензия           | MIT (полностью свободная) | Apache 2.0 (свободная)            |
| Открытость кода            | 100%                      | ~80% (Enterprise функции закрыты) |
| Коммерческое использование | Без ограничений           | Ограничения в Enterprise          |
| Платные функции            | Отсутствуют               | Есть (Enterprise)                 |
| Поддержка                  | Сообщество                | Сообщество + Коммерческая         |

---

## Поддержка LDAP

CVAT:
- Полная поддержка LDAP и интеграции с Active Directory
- Поддержка групп пользователей и ролей
- SSO
- Гибкая система управления доступом и правами пользователей
- Поддержка корпоративных стандартов

Label Studio Community Edition:
- Не поддерживает LDAP
- Только локальная аутентификация
- Базовое управление пользователями

Label Studio Enterprise:
- Полная поддержка LDAP
- Интеграция с Active Directory
- SSO (SAML, OAuth)
- Продвинутое управление пользователями

### Сравнение LDAP поддержки

| Функция             | CVAT     | Label Studio Community | Label Studio Enterprise |
| ------------------- | -------- | ---------------------- | ----------------------- |
| LDAP Authentication | [+]      | [-]                    | [+]                     |
| Active Directory    | [+]      | [-]                    | [+]                     |
| Group Mapping       | [+]      | [-]                    | [+]                     |
| SSO Integration     | Частично | [-]                    | [+]                     |
| Настройка сложности | Средняя  | [-]                    | Простая                 |

---

## Результаты нагрузочного тестирования

### CVAT

**Преимущества:**

- Стабильная работа под нагрузкой
- Хорошая масштабируемость
- Низкое потребление ресурсов

### Label Studio

**Преимущества:**

- Быстрый отклик интерфейса
- Эффективная работа с различными типами данных

**Недостатки:**

- Более высокое потребление памяти
- Возможны проблемы с одновременным доступом к задачам

### Итоговая оценка

| Критерий               | CVAT       | Label Studio |
| ---------------------- | ---------- | ------------ |
| Открытость             | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐     |
| Производительность     | ⭐⭐⭐⭐   | ⭐⭐⭐⭐     |
| Функциональность       | ⭐⭐⭐⭐   | ⭐⭐⭐⭐⭐   |
| Простота использования | ⭐⭐⭐     | ⭐⭐⭐⭐⭐   |
| LDAP поддержка         | ⭐⭐⭐⭐⭐ | ⭐⭐         |
| Стоимость владения     | ⭐⭐⭐⭐⭐ | ⭐⭐⭐       |

> Для большинства случаев использования CVAT предоставляет лучшее соотношение функциональности, открытости и стоимости владения.
